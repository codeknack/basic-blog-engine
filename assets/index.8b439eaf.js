import{o as a,c as u,a as l,b as p,w as g,u as r,R as $,d as S,F as P,e as f,f as k,s as y,g as _,t as h,r as A,h as w,i as j,j as N,k as R,l as E,m as O}from"./vendor.9ee5654b.js";const V=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}};V();const I={class:"navbar"},B=f("Posts"),F=f(" - "),T=f("Authors"),W={setup(t){return(e,n)=>(a(),u(P,null,[l("header",I,[l("div",null,[l("nav",null,[p(r($),{to:"/"},{default:g(()=>[B]),_:1}),F,p(r($),{to:"/authors"},{default:g(()=>[T]),_:1})])])]),p(r(S))],64))}},q="modulepreload",x={},D="/basic-blog-engine/",H=function(e,n){return!n||n.length===0?e():Promise.all(n.map(o=>{if(o=`${D}${o}`,o in x)return;x[o]=!0;const s=o.endsWith(".css"),c=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":q,s||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),s)return new Promise((d,L)=>{i.addEventListener("load",d),i.addEventListener("error",L)})})).then(()=>e())},m=k({id:"post",state:()=>({posts:[],post:null,loading:!1,error:null}),getters:{getPostsPerAuthor:t=>e=>t.posts.filter(n=>n.userId===e)},actions:{async fetchPosts(){this.posts=[],this.loading=!0;try{this.posts=await fetch("https://jsonplaceholder.typicode.com/posts").then(t=>t.json())}catch(t){this.error=t}finally{this.loading=!1}},async fetchPost(t){this.post=null,this.loading=!0;try{this.post=await fetch(`https://jsonplaceholder.typicode.com/posts/${t}`).then(e=>e.json())}catch(e){this.error=e}finally{this.loading=!1}}}}),K={key:0},U={key:1},z={setup(t){const{posts:e,loading:n,error:o}=y(m()),{fetchPosts:s}=m();return s(),(c,i)=>(a(),u("main",null,[r(n)?(a(),u("p",K,"Loading posts...")):_("",!0),r(o)?(a(),u("p",U,h(r(o).message),1)):_("",!0),r(e)?(a(!0),u(P,{key:2},A(r(e),d=>(a(),u("p",{key:d.id},[p(r($),{to:`/post/${d.id}`},{default:g(()=>[f(h(d.title),1)]),_:2},1032,["to"]),l("p",null,h(d.body),1)]))),128)):_("",!0)]))}},v=k({id:"author",state:()=>({authors:[]}),getters:{getPostAuthor:t=>{const e=m();return t.authors.find(n=>n.id===e.post.userId)}},actions:{async fetchAuthors(){this.authors=await fetch("https://jsonplaceholder.typicode.com/users").then(t=>t.json())}}}),C=k({id:"comment",state:()=>({comments:[]}),getters:{getPostComments:t=>{const e=m();return t.comments.filter(n=>n.postId===e.post.id)}},actions:{async fetchComments(){this.comments=await fetch("https://jsonplaceholder.typicode.com/comments").then(t=>t.json())}}}),G={props:["comments"],setup(t){return(e,n)=>(a(),u("div",null,[(a(!0),u(P,null,A(t.comments,o=>(a(),u("div",{key:o.id},[l("h3",null,h(o.name),1),l("p",null,h(o.body),1)]))),128))]))}},J={key:0},M=f("Written by: "),Q=f(" | "),X=l("hr",null,null,-1),Y=l("h3",null,"Comments:",-1),Z={props:["post","author"],setup(t){const{getPostComments:e}=y(C()),{fetchComments:n}=C();return n(),(o,s)=>(a(),u("div",null,[l("div",null,[l("h2",null,h(t.post.title),1),t.author?(a(),u("p",J,[M,p(r($),{to:`/author/${t.author.username}`},{default:g(()=>[f(h(t.author.name),1)]),_:1},8,["to"]),Q,l("span",null,"Comments: "+h(r(e).length),1)])):_("",!0),l("p",null,h(t.post.body),1)]),X,Y,p(G,{comments:r(e)},null,8,["comments"])]))}},tt={key:0},et={key:1},st={key:2},ot={setup(t){const e=w(),{getPostAuthor:n}=y(v()),{fetchAuthors:o}=v(),{post:s,loading:c,error:i}=y(m()),{fetchPost:d}=m();return o(),d(e.params.id),(L,at)=>(a(),u("div",null,[r(c)?(a(),u("p",tt,"Loading post...")):_("",!0),r(i)?(a(),u("p",et,h(r(i).message),1)):_("",!0),r(s)?(a(),u("p",st,[p(Z,{post:r(s),author:r(n)},null,8,["post","author"])])):_("",!0)]))}},nt={props:["author","posts"],setup(t){return(e,n)=>(a(),u("div",null,[l("h1",null,h(t.author.name),1),l("p",null,h(t.posts.length)+" posts written.",1),(a(!0),u(P,null,A(t.posts,o=>(a(),u("p",{key:o.id},[p(r($),{to:`/post/${o.id}`},{default:g(()=>[f(h(o.title),1)]),_:2},1032,["to"])]))),128))]))}},rt={setup(t){const e=w(),{authors:n}=y(v()),{getPostsPerAuthor:o}=y(m()),{fetchPosts:s}=m(),c=j(()=>n.value.find(i=>i.username===e.params.username));return s(),(i,d)=>(a(),u("div",null,[p(nt,{author:r(c),posts:r(o)(r(c).id)},null,8,["author","posts"])]))}},ct=N({history:R(),routes:[{path:"/",name:"posts",component:z},{path:"/authors",name:"authors",component:()=>H(()=>import("./AuthorsView.afe2179d.js"),["assets/AuthorsView.afe2179d.js","assets/vendor.9ee5654b.js"])},{path:"/post/:id",name:"post",component:ot},{path:"/author/:username",name:"author",component:rt}]}),b=E(W);b.use(O());b.use(ct);b.mount("#app");export{v as u};
